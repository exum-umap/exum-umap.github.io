!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2b9527a5-d273-447c-9974-1c520891f41f",e._sentryDebugIdIdentifier="sentry-dbid-2b9527a5-d273-447c-9974-1c520891f41f")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4182],{93682:function(e,t,r){r.d(t,{U:function(){return a},w:function(){return o}});let o=200,a=200},94182:function(e,t,r){r.d(t,{l:function(){return eV},Y:function(){return e5}});var o=r(97458),a=r(57291),n=r(98821),l=r.n(n),i=r(58058),s=r.n(i),c=r(52983),u=r(30948),d=r(64237),m=r(36244),_=r(41581),p=r(3223),h=r(16614),f=r(31760),w=r(70870),g=r(77475),x=r(20339),b=r(50987),v=r(65122),y=r(63081),j=r(33247),k=r(61821),N=r(52294),C=r(41776),T=r(4784),R=r(770),I=r(9249),z=r(30061),D=r(10893),E=r(59470);let A=()=>{let{t:e}=(0,D.$G)("common");return(0,o.jsxs)("span",{className:E.q,children:[(0,o.jsx)(I.T,{children:e("disneyResource")}),(0,o.jsx)(R.J,{as:z.Z,size:"3xs",className:"text-white"})]})},O=e=>{var t,r,a,n;let{resource:l,isDisneyResource:i=!1}=e,s=(0,v.e)(),{contentGroup:c}=(0,k.hv)(l),u=(0,j.R)(),{premium:d,isAIGenerated:m,authorName:_,type:p}=l;if(!d&&!m&&!i)return;let h=d&&s,f=l.isEditableInMockup?"mockups":null,w=l.isEditableInWepik?"templates":null,g=null!==(n=null!=f?f:w)&&void 0!==n?n:"premium_regular",x=u({type:p,authorName:_,isPremium:!0,isAIGenerated:m,eventName:"download__thumbnail_crown"});return x.append("origin","".concat(y.Ej,"_").concat(g)),(0,o.jsxs)(o.Fragment,{children:[h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(T.s,{})}),d&&!h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(C.w,{resource:{id:l.id,name:l.name,mediaUrl:null===(t=l.preview)||void 0===t?void 0:t.url,mediaHeight:null===(r=l.preview)||void 0===r?void 0:r.height,mediaWidth:null===(a=l.preview)||void 0===a?void 0:a.width,resourceType:"regular"},urlParams:x,category:c})}),m&&(0,o.jsx)(N.N,{}),i&&(0,o.jsx)(A,{})]})},P=(e,t)=>{let{width:r}=(0,w.n)(e),{width:o}=(0,w.n)(null!=t?t:{current:null});return r?r-(null!=o?o:0)-16-15:0},U=(e,t)=>{let[r,o]=(0,c.useState)(3);return(0,c.useEffect)(()=>{if(!(null==t?void 0:t.current))return;let{scrollWidth:r}=t.current,a=e-25;if(a<=0){o(1);return}if(r>a){o(e=>Math.max(e-1,1));return}r+80<=a&&o(e=>Math.min(e+1,3))},[e,t]),r};var S=r(3999),L=r(51780),G=r(95797),H=r(85e3),M=r(30143);let W=e=>{let[t,r]=(0,c.useState)("");return(0,c.useEffect)(()=>{{let t=new URLSearchParams(window.location.hash.substring(1)).get(e);null!==t&&r(t)}},[e]),t},$=e=>{var t;let{resourceId:r,resourceUrl:o,previewUrl:a,isModal:n,position:l,fromView:i,action:s}=e,c=(0,L.useRouter)(),u=null!==(t=(0,H.Jn)("term"))&&void 0!==t?t:"",d=W("from_element"),m=(0,M.fb)(r,o,{fromView:i,position:l,fromElement:d,query:u}),_=J({previewUrl:a,resourceId:r,isModal:n,action:s});return n?{href:{pathname:c.pathname,query:c.query},as:m,shallow:!0,scroll:!1,onClick:_}:{href:m,onClick:_}},J=e=>{let{previewUrl:t,resourceId:r,isModal:o,action:a}=e,n=(0,S.u)({previewUrl:t});return(0,G.Z)({itemId:r,isModal:o,previewUrlParams:n.includes("?")?new URLSearchParams(n.split("?")[1]).toString():"",action:a})};var K=r(45388),Z=r(23113),q=r(34854),F=r(71136),B=r(87591),V=r(50829),Q=r(17722),Y=r(30569),X=r(35103);let ee=e=>{let{onDownload:t,isDownloading:r,premium:a,className:n,iconSize:l,creditCost:i}=e,{t:s}=(0,D.$G)(["detailCommon","common"]),c=(0,Z.a)("lg"),u=(0,q.nD)(),d=(0,V.C)(),m=(0,X.O)(a),_=(0,o.jsx)(Y.K,{iconName:"download",onClick:t,dataCy:"download-thumbnail",disabled:!!m||r,loading:r,className:n,iconSize:l,children:(0,o.jsx)(I.T,{children:s("detailCommon:download")})});return c?m?(0,o.jsx)(Q.B,{blockStatus:m,container:u.current,children:_}):(0,o.jsx)(F.u,{disableHoverableContent:!0,content:(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[s("detailCommon:download"),d&&(0,o.jsx)(B.L,{creditCost:i,className:"bg-surface-foreground-2"})]}),contentProps:{side:"bottom",size:"sm"},showArrow:!1,children:(0,o.jsx)("div",{children:_})}):_};var et=r(85229),er=r(46700),eo=r(65724),ea=r(35576),en=r(24278),el=r(75045);let ei=(e,t)=>{let{id:r,name:o,author:a,type:n,premium:l,isAIGenerated:i,url:s,preview:u,isEditableInMockup:m,isEditableInWepik:_}=e,p=(0,j.R)(),{isUserWinback:h,showWinbackModal:f}=(0,et.l)(),w=p({authorName:a.name,isPremium:l,isAIGenerated:i,type:n,subtype:(0,d.y)({isEditableInWepik:_,isEditableInMockup:m}),eventName:"download__thumbnail"}),{isDownloading:g,handleDownload:x}=(0,el.i)({resource:{id:r,name:o,author:a,premium:l,regularType:n,isAIGenerated:i,url:s,preview:u,type:n},location:"resource_thumbnail",checkoutQueryParams:w,showAttributionModal:!1,searchExpression:t}),y=(0,er.V)(),k=(0,ea.mS)(),N=(0,v.e)(),{contentGroup:C}=(0,en.hv)({id:r,type:n,isAIGenerated:i,premium:l,isEditableInMockup:m,isEditableInWepik:_}),T=(0,eo.W)(r,C,"resource_thumbnail"),{showAttribution:R}=(0,b.J)(),I=(0,c.useCallback)(()=>{k({resourceId:r,isResourcePremium:l,resourceType:n,downloadType:"download"})},[k,r,l,n]);return{isDownloading:g,handleDownloadFromThumbnail:(0,c.useCallback)(async()=>{if(h){f();return}if(!N&&l){T({origin:"resource_thumbnail_premium",resourceData:{name:o,mediaUrl:u.url,mediaWidth:u.width,mediaHeight:u.height,resourceType:"regular"},checkoutQueryParams:w,onButtonClick:I});return}let e=await x();e&&(y(e.url,e.filename),R())},[h,N,l,x,f,T,o,u.url,u.width,u.height,w,I,y,R])}};var es=r(67651),ec=r(95733),eu=r(38741),ed=r(18666),em=r(45299);let e_=e=>{let{item:t,isCollectionItem:r,isCuratedCollection:a,openModal:n}=e,{id:l,name:i,author:s,type:c,premium:u,isAIGenerated:d,url:_,preview:p,isEditableInMockup:h,isEditableInWepik:f,creditCost:w}=t,{url:g,height:x,width:b}=p,v=!(0,es.h)(s.id),{isDownloading:y,handleDownloadFromThumbnail:j}=ei({id:l,name:i,author:s,type:null!=c?c:"photo",premium:u,isAIGenerated:d,url:_,preview:{url:g,height:x,width:b},isEditableInMockup:h,isEditableInWepik:f},(0,H.pt)()),k=(0,ec.E)(),N=(0,m.G)(),C=!k||k&&l!==N;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[C&&(0,o.jsx)(ed.B,{id:l,name:i,preview:p,inThumbnail:!0,showLabel:!1,type:c,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),(!r||a)&&(0,o.jsx)(eu.D,{type:t.type,id:t.id,location:"thumbnail",renderTrigger:e=>{let{onClick:t,ref:r}=e;return(0,o.jsx)(em.P,{onClick:t,ref:r})}}),r&&!a&&(0,o.jsx)(K.Q,{openModal:n,resourceId:t.id,resourceType:t.type}),v&&(0,o.jsx)(ee,{onDownload:j,isDownloading:y,premium:u,creditCost:w})]})};var ep=r(62311),eh=r(90715),ef=r(86101),ew=r(43192),eg=r(27793),ex=r(91394),eb=r(25983);let ev=(e,t,r)=>{let o=(0,en.m6)(t),a=(0,eb.L3)(),{loginUrl:n,setLoginCookies:l}=(0,eg.J)(),i=(0,ex.d)(),s=(0,ea.mS)(),c=()=>o?r:o?i||t?r:(l(),n):"".concat(a("/pricing"),"/").concat(e,"?origin=freepik_web");return()=>{if(!o){s({resourceId:e,isResourcePremium:t,resourceType:"template"}),window.location.href=c();return}window.location.href=c()}},ey=e=>{let{id:t,premium:r,urlEditor:a}=e,{t:n}=(0,D.$G)("common"),l=(0,Z.a)("lg"),i=ev(t,r,a),s=(0,o.jsx)(ew.T,{label:n("editOnline"),dataCy:"edit-online-thumbnail",onClick:i});return l?(0,o.jsx)(ef.u,{side:"left",trigger:s,triggerAsChild:!0,hideOnLeaveHover:!0,children:n("editOnline")}):s};var ej=r(39230),ek=r(36815),eN=r(82060);let eC=()=>{let{t:e}=(0,D.$G)("editTools");return(0,o.jsxs)("button",{className:eN.tw,onClick:()=>{window.open("/pikaso/tools/change-camera","_blank")},"data-cy":"thumbnail-menu-change-camera",children:[(0,o.jsx)(ek.ZP,{name:"camera",size:"xs"}),(0,o.jsx)("span",{children:e("changeCamera.name")})]})};var eT=r(2200),eR=r(80751);let eI=(e,t)=>{let r=(0,v.e)(),o=(0,eR.H)(),a=!t||r;return(0,c.useMemo)(()=>o({tool:e,canUserDownloadResource:a}),[e,a,o])};var ez=r(58984);let eD=e=>{let{tool:t,resource:r}=e;return(0,ez.I)({tool:t,location:"thumbnail",resource:r})},eE=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eD({tool:{name:"imageEditor"},resource:t}),{blockStatus:n}=eI("imageEditor",t.premium),l=(0,eT.n)(),i=(0,v.e)();return(0,o.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:eN.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-edit-with-ai",children:[(0,o.jsx)(ek.ZP,{name:"image-editor",size:"xs"}),(0,o.jsx)("span",{children:r("imageEditor.nameC")}),!i&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eA=r(41937),eO=r(90312),eP=r(9382);let eU=e=>{let{resourceId:t,resourceUrl:r,previewUrl:a,position:n,fromView:l,isModal:i,isPremium:s,isCollectionItem:c=!1}=e,{t:u}=(0,D.$G)("editTools"),d=(0,eA.I)(),{setLoginCookies:m,signUpUrl:_}=(0,eO.e)(),p=(0,X.O)(s),h=(0,q.nD)(),f=(0,L.useRouter)(),w=$({resourceId:t,resourceUrl:r,previewUrl:a,isModal:i,position:n,fromView:l,action:"remove-background"});return(0,o.jsx)(Q.B,{blockStatus:p,container:h.current,children:(0,o.jsxs)("button",{type:"button",onClick:e=>{if(d){e.preventDefault(),m(),window.location.href=_;return}if(p){e.preventDefault();return}if(c){f.push("".concat(r,"?action=remove-background"));return}w.onClick(e)},className:eN.tw,"data-cy":"menu-remove-background",disabled:!!p,children:[(0,o.jsx)(R.J,{as:eP.Z,size:"sm"}),(0,o.jsx)("span",{children:u("removeBackground.nameE")})]})})},eS=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eD({tool:{name:"styleReference"},resource:t}),{blockStatus:n}=eI("styleReference",t.premium),l=(0,eT.n)(),i=(0,v.e)();return(0,o.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:eN.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-style-reference",children:[(0,o.jsx)("span",{children:r("styleReference.name")}),!i&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eL=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eD({tool:{name:"useAsReference"},resource:t}),{blockStatus:n}=eI("useAsReference",t.premium),l=(0,eT.n)();return(0,o.jsx)(Q.B,{blockStatus:n,container:l.current,children:(0,o.jsxs)("button",{className:eN.tw,onClick:()=>a(),disabled:!!n,"data-cy":"thumbnail-menu-use-as-reference",children:[(0,o.jsx)(ek.ZP,{name:"search-by-image",size:"sm"}),(0,o.jsx)("span",{children:r("useAsReference")})]})})},eG=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=(0,c.useCallback)(()=>{let e=new URLSearchParams;e.set("action","angles"),e.set("image",t.preview.url),window.open("/pikaso/tools/variations?".concat(e),"_blank")},[t.preview.url]);return(0,o.jsxs)("button",{className:eN.tw,onClick:a,"data-cy":"thumbnail-menu-variations",children:[(0,o.jsx)(ek.ZP,{name:"fps",size:"xs"}),(0,o.jsx)("span",{children:r("alternatives.name")})]})};var eH=r(7616),eM=r(7526),eW=r(31861);let e$=(e,t)=>["psd","vector"].includes(e)&&t,eJ=()=>{let[e]=(0,eH.KO)(eW.GD);return(0,c.useCallback)((t,r)=>{let o=""===e?"".concat(eM.KK).concat(t):"".concat(eM.KK).concat(t,"?searchTerm=").concat(e),a="".concat(eM.Iq).concat(t,"&provider=fp");return r?o:a},[e])},eK=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=(0,eT.n)(),n=eD({tool:{name:"useAsReference"},resource:t}),{blockStatus:l}=eI("useAsReference",t.premium);return(0,o.jsx)(Q.B,{blockStatus:l,container:a.current,children:(0,o.jsx)(ew.T,{onClick:()=>n(),disabled:!!l,dataCy:"thumbnail-use-as-reference",label:r("useAsReference"),iconLeftName:"search-by-image"})})},eZ=(0,c.forwardRef)((e,t)=>{let{thumbnailRef:r,item:a,position:n,isModal:l,fromView:i,isCollectionItem:s=!1}=e,{id:c,name:u,author:d,premium:m,isAIGenerated:_,type:p,url:h,preview:f,isEditableInMockup:w,isEditableInWepik:g}=a,x={id:c,name:u,author:d,premium:m,isAIGenerated:_,preview:f,type:p,url:h},b=g||w,v=eJ(),y=(0,eh.n)({type:p,isEditableInMockup:w,isEditableInWepik:g,authorId:d.id}),j=e$(p,b),k=(0,ec.E)(),N=(0,ep.A)("FF_NEW_THUMBNAIL_AI_TOOLS");return(0,o.jsxs)("div",{ref:t,className:"flex flex-row gap-1",children:[k&&(0,o.jsx)(eK,{resource:{id:c,name:u,type:p,premium:m,isAIGenerated:_,preview:f,url:h,author:d}}),y&&!j&&(0,o.jsxs)(ej.$,{thumbnailRef:r,vertical:"regular",children:[(0,o.jsx)(eU,{resourceId:c,resourceUrl:h,position:n,isModal:l,fromView:i,previewUrl:f.url,isPremium:m,isCollectionItem:s}),(0,o.jsx)(eE,{resource:x}),(0,o.jsx)(eL,{resource:x}),N&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eS,{resource:x}),(0,o.jsx)(eG,{resource:x}),(0,o.jsx)(eC,{})]})]}),j&&!k&&(0,o.jsx)(ey,{premium:m,id:c,urlEditor:v(c,g)})]})}),eq=e=>{let{type:t,name:r,isPremium:o,fromView:a}=e,{t:n}=(0,D.$G)("common");if(!a||"keyword"!==a)return r;let l=r.toLowerCase(),i=n("regularTypeTitleQuantities.".concat(t,"_one"));return o?"".concat(i," ").concat(l):"".concat(n("seoRuleAlt",{type:i})," ").concat(l)},eF=(0,a.j)("block rounded object-cover object-center",{variants:{resizeIn:{width:"size-full",height:"h-full w-auto"}}}),eB=(0,c.forwardRef)((e,t)=>{let{item:r,position:n,fromView:i,isModal:w=!1,dataCy:x,priority:v,resizeParameter:y="width",isCuratedCollection:j,openModal:k,isCollectionItem:N=!1}=e,{preview:C,name:T,premium:R,type:I,author:z,id:D,isAIGenerated:E,url:A,topSearchExpressions:L,isEditableInMockup:G,isEditableInWepik:H}=r,M="keyword"===i,[W,J]=(0,c.useState)(!1),{url:K,width:Z,height:q}=C,F=(0,c.useRef)(null),B=(0,c.useRef)(null),V=U(P(t,F),B),{attributionEnabled:Q}=(0,b.J)(),Y=z.id===u.c,X=$({resourceId:r.id,resourceUrl:r.url,previewUrl:K,isModal:w,position:n,fromView:i}),ee=(0,S.u)({previewUrl:K}),et=(0,d.y)({isEditableInMockup:G,isEditableInWepik:H}),er=eq({type:I,name:T,isPremium:R,fromView:i}),eo=(0,p.z)({id:r.id,type:r.type,premium:r.premium,position:null!=n?n:0}),ea=(0,c.useCallback)(()=>{"function"==typeof eo&&eo(),J(!0)},[eo]),en=(0,_.t)(D,I),el=(0,m.G)();return(0,o.jsx)(h.u,{ref:t,dataCy:x,dataAuthor:z.id.toString(),primaryActions:(0,o.jsx)(e_,{item:r,isCuratedCollection:j,openModal:k,isCollectionItem:N}),secondaryActions:(0,o.jsx)(eZ,{thumbnailRef:t,ref:F,item:r,position:n,isModal:w,fromView:i,isCollectionItem:N}),fixedSecondaryActions:D===el&&(0,o.jsx)(eK,{resource:{id:D,name:T,type:I,premium:R,isAIGenerated:E,preview:C,url:A,author:z}}),information:W&&(0,o.jsx)(O,{resource:{...r,authorName:r.author.name},isDisneyResource:Y}),searchExpressions:M&&(0,o.jsx)(f.k,{items:L,style:"new",maxTags:V,tagsContainerRef:B}),attribution:Q&&(0,o.jsx)(g.i,{authorId:z.id,authorName:z.name,resourceUrl:A,resourceId:D,resourceName:T,mediaUrl:K,mediaWidth:Z,mediaHeight:q,isAIGenerated:E,isPremium:R,resourceType:I,subtype:et}),children:(0,o.jsxs)(s(),{...X,className:(0,a.cx)("relative z-0 block h-full overflow-hidden rounded-xl","width"===y?"":"h-full"),prefetch:!1,children:[(0,o.jsx)(l(),{src:ee,alt:er,width:Z,height:q,className:(0,a.cx)(eF({resizeIn:y})),priority:v,onLoad:ea,suppressHydrationWarning:!0,onError:en}),(0,o.jsx)("div",{className:"absolute inset-0 z-0","aria-hidden":"true"})]})})}),eV=(0,c.forwardRef)((e,t)=>{let{height:r}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(eB,{...e,ref:t})})});var eQ=r(33523),eY=r(72570),eX=r(93682);let e0=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,name:n,author:l,type:i,premium:s,isAIGenerated:c,url:u,preview:d,isEditableInMockup:_,isEditableInWepik:p,creditCost:h}=t,{url:f,height:w,width:g}=d,{isDownloading:x,handleDownloadFromThumbnail:b}=ei({id:a,name:n,author:l,type:null!=i?i:"photo",premium:s,isAIGenerated:c,url:u,preview:{url:f,height:w,width:g},isEditableInMockup:_,isEditableInWepik:p},(0,H.pt)()),v=(0,ec.E)(),y=(0,m.G)(),j=!v||v&&a!==y;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[j&&(0,o.jsx)(ed.B,{id:a,name:n,preview:d,inThumbnail:!0,showLabel:!1,type:i,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),r&&(0,o.jsx)(ee,{onDownload:b,isDownloading:x,premium:s,creditCost:h})]})},e1=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,premium:n,isEditableInMockup:l,isEditableInWepik:i,type:s}=t,c=eJ(),u=e$(s,i||l);return!r&&u?(0,o.jsx)("div",{className:"flex flex-row gap-1",children:(0,o.jsx)(ey,{premium:n,id:a,urlEditor:c(a,i)})}):null},e2=(0,c.forwardRef)((e,t)=>{var r,a;let{item:n,categoryGAEvent:i,fromElement:m}=e,{id:_,type:p,preview:f,url:w,author:x,name:v,isAIGenerated:y,premium:j,isEditableInMockup:N,isEditableInWepik:C}=n,T="".concat(w).concat(m?"#from_element=".concat(m):""),R=null!==(r=null==f?void 0:f.url)&&void 0!==r?r:"",I=x.id===u.c,z=!(0,es.h)(x.id),{width:D,height:E}=null!=f?f:{width:eX.U,height:eX.w,url:""},A=D/E,P=eX.w*A,[U,S]=(0,c.useState)(!1),{isLoading:G,loaded:H}=(0,eY._)(R),M=(0,ea.O5)(),W=(0,L.useRouter)(),$=(0,k.Zh)({itemId:_,isModal:!0}),{attributionEnabled:J}=(0,b.J)(),K=(0,d.y)({isEditableInMockup:N,isEditableInWepik:C});return(0,o.jsx)(h.u,{ref:t,dataCy:"related-thumbnail",dataAuthor:x.id.toString(),primaryActions:(0,o.jsx)(e0,{item:n,isDownloadEnabled:z}),secondaryActions:(0,o.jsx)(e1,{item:n,isDownloadEnabled:z}),information:U&&(0,o.jsx)(O,{resource:{...n,authorName:n.author.name},isDisneyResource:I}),attribution:J&&(0,o.jsx)(g.i,{authorId:x.id,authorName:x.name,resourceUrl:w,resourceId:_,resourceName:v,mediaUrl:null!==(a=null==f?void 0:f.url)&&void 0!==a?a:"",mediaWidth:D,mediaHeight:E,isAIGenerated:y,isPremium:j,resourceType:p,subtype:K}),children:(0,o.jsxs)(s(),{href:{pathname:W.pathname,query:W.query},as:T,shallow:!0,scroll:!1,className:'relative block h-[200px] overflow-hidden rounded-xl before:absolute before:inset-0 before:opacity-0 before:content-[""] hover:before:opacity-20',prefetch:!1,onClick:e=>{i&&M(_,i,p),$(e)},children:[G&&f&&(0,o.jsx)(eQ.O.Rect,{style:{width:P,height:eX.w}}),(0,o.jsx)(l(),{className:e3({show:!G}),src:R,alt:v,onLoad:()=>{H(),S(!0)},width:P,height:eX.w,quality:90,loading:"lazy"}),(0,o.jsx)("div",{className:"absolute inset-0","aria-hidden":"true"})]})})}),e5=e=>{let t=(0,c.useRef)(null),{height:r}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(e2,{...e,ref:t})})},e3=(0,a.j)("h-full object-cover",{variants:{show:{false:"absolute opacity-0"}}})},21255:function(e,t,r){r.d(t,{k:function(){return s}});var o=r(68147),a=r(26219),n=r(83380),l=r(5704),i=r(7009);let s=e=>{let t=(0,n.Z)(),r=(0,l.Jn)("term"),s=(0,o.I)()||0,c=(0,i.J)();return(o,n)=>{let l="term-related&language=".concat(t,"&ref=").concat(r,"&rel=").concat(n,"&ori=").concat(e,"&pos=").concat(o+1,"&uid=").concat(s).concat(c);(0,a.O)(encodeURI(l.toLowerCase()))}}},31760:function(e,t,r){r.d(t,{k:function(){return u}});var o=r(97458),a=r(25983),n=r(52983),l=r(86436),i=r(21255),s=r(5704);let c={psd:"/psd",vector:"/vectors",photo:"/photos",font:"/fonts"},u=e=>{var t;let{items:r,maxTags:u=3,style:d="old",tagsContainerRef:m}=e,_=c[null!==(t=(0,s.Jn)("type"))&&void 0!==t?t:""]||"/free-photos-vectors",p=(0,a.L3)()(_),h=(0,i.k)("tag"),f=(0,n.useMemo)(()=>r?r.slice(0,u).map(e=>{var t;let r="".concat(p,"/").concat(e.slug),o="".concat(_,"/").concat(e.slug);return{name:e.name,href:null!==(t=e.url)&&void 0!==t?t:o,as:r}}):[],[r,u,p,_]);return!r||0===r.length||u<=0?null:(0,o.jsx)("div",{ref:m,children:(0,o.jsx)(l.L,{tags:f,theme:"old"===d?"dark":"transparent",onTagClick:(e,t)=>{h(e,t.name)},className:"relative mt-4 flex size-full flex-wrap gap-3"})})}},58984:function(e,t,r){r.d(t,{I:function(){return f}});var o=r(65122),a=r(69762),n=r(43186),l=r(52983),i=r(33961),s=r(64458);let c=(e,t)=>{let r=u(e,t),o=d(e);if(!r)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:r,modifier:o}},u=(e,t)=>{var r;let o=null===(r=m[e.name])||void 0===r?void 0:r[t];if(!o)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return o},d=e=>{if("workflow"===e.name){let t=_[e.subOption];if(!t)throw Error("There are no download parameters for workflow with ".concat(e.subOption));return t}},m={retouch:{detail:"ai_tool_retouch",postDownload:"ai_tool_retouch_after_download"},expand:{detail:"ai_tool_expand",postDownload:"ai_tool_expand_after_download"},reimagine:{detail:"ai_tool_reimagine",postDownload:"ai_tool_reimagine_after_download"},adjust:{detail:"ai_tool_adjust",postDownload:"ai_tool_adjust_after_download",thumbnail:"ai_tool_adjust_thumbnail"},replacebg:{detail:"ai_tool_replacebg"},video:{detail:"ai_tool_video",postDownload:"ai_tool_video_after_download"},assistant:{detail:"ai_tool_assistant",thumbnail:"ai_tool_assistant_thumbnail"},generatePrompt:{detail:"ai_tool_generate_prompt"},styleReference:{detail:"ai_tool_generate_style_ref",postDownload:"ai_tool_generate_style_ref_after_download",thumbnail:"ai_tool_generate_style_ref_thumbnail"},workflow:{detail:"ai_tool_assistant"},imageEditor:{thumbnail:"ai_tool_all_thumbnail",detail:"ai_tool_all",postDownload:"ai_tool_all_after_download"},useAsReference:{detail:"ai_tool_generate_use_as_reference",thumbnail:"ai_tool_generate_image_ref",postDownload:"ai_tool_generate_image_ref_after_download"}},_={createSocialPost:"workflow_create_post",createPoster:"workflow_create_poster",mixImages:"workflow_mix_images",applyPromo:"workflow_apply_promo",createFlyer:"workflow_create_flyer",createLogoVariations:"workflow_create_logo_variations",localize:"workflow_localize",createLogo:"workflow_create_logo",applyColors:"workflow_apply_colors",replaceText:"workflow_replace_text",removeText:"workflow_remove_text",replaceElement:"workflow_replace_element",addElement:"workflow_add_element"};var p=r(75045);let h=e=>{let{tool:t,location:r,imageSrc:o,resource:a}=e,{id:u,name:d,author:m,premium:_,type:h,isAIGenerated:f,preview:w,url:g}=a,{action:x,modifier:b}=c(t,r),v=(0,s.M)({tool:t,resource:{type:h,subtype:h,authorName:m.name,isPremium:_,isAIGenerated:f}}),{handleDownload:y}=(0,p.i)({resource:{id:u,name:d,author:m,premium:_,regularType:h,isAIGenerated:f,url:g,preview:w,type:h},action:x,modifier:b,showAttributionModal:!1,skipDownloadTracker:!0,location:(0,i.d)({isResourcePremium:_,tool:t,location:r}),checkoutQueryParams:v}),j=(0,n.J)(),k=null!=o?o:w.url;return(0,l.useCallback)(async()=>{let e=await y(k);if(!(null==e?void 0:e.signedUrl))throw Error("Failed to download image");return j(),"".concat(e.signedUrl,"&w=2000&h=2000")},[k,y,j])},f=e=>{let{tool:t,location:r,imageSrc:n,extraParams:l,resource:i}=e,{id:s,premium:c,isAIGenerated:u,type:d,author:{name:m},name:_,preview:{url:p,width:f,height:w}}=i,g=(0,o.e)(),x=h({tool:t,location:r,imageSrc:n,resource:i});return(0,a.F)({tool:t,resource:{id:s,name:_,type:d,authorName:m,isPremium:c,isAIGenerated:u,groupedType:"regular",media:{url:p,width:f,height:w}},canDownloadResource:g||!c,imageSrc:n,getSignedResource:x,location:r,extraParams:l})}},15715:function(e,t,r){r.d(t,{H:function(){return a}});let o=e=>{let{resource:t,file:r,option:o,size:a,action:n,walletId:l,locale:i,modifier:s,searchExpression:c}=e,u=new URLSearchParams;return u.set("resource","".concat(t)),r&&o?(u.set("file",r),u.set("option","".concat(o))):a&&u.set("size","".concat(a)),n&&u.set("action",n),l&&u.set("walletId",l),u.set("locale",i),s&&u.set("modifier",s),c&&u.set("searchExpression",c),u.toString()},a=async e=>{let t=o(e),r=await fetch("/api/regular/download?".concat(t));return r.ok?{success:!0,data:await r.json()}:429===r.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===r.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},75045:function(e,t,r){r.d(t,{i:function(){return D}});var o=r(72234),a=r(15880),n=r(68147),l=r(85229),i=r(25983),s=r(59608),c=r(52983),u=r(9036),d=r(35576),m=r(7526);let _=(e,t)=>t||("photo"===e?"jpg":"zip");var p=r(24278);r(97458);let h=(0,c.createContext)(null),f=()=>(0,c.useContext)(h)||{shouldTrackingLog:!0};var w=r(15715),g=r(32509),x=r(72661),b=r(72118),v=r(1850),y=r(64979),j=r(56879);let k=v.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",y.cm,y.PF,y.p3,y.Kq,y.wK,y.os,y.H$,y.C0,y.u4,y.OI,y.Iu,y.e5,"ai_tool_retouch","ai_tool_retouch_after_download","ai_tool_expand","ai_tool_expand_after_download","ai_tool_reimagine","ai_tool_reimagine_after_download","ai_tool_adjust","ai_tool_adjust_after_download","ai_tool_replacebg","ai_tool_video","ai_tool_video_after_download","ai_tool_assistant","ai_tool_generate_prompt","ai_tool_generate_style_ref","ai_tool_generate_style_ref_after_download","ai_tool_generate_style_ref_thumbnail","ai_tool_adjust_thumbnail","ai_tool_assistant_thumbnail","ai_tool_all_thumbnail","ai_tool_all","ai_tool_generate_image_ref","ai_tool_all_after_download","ai_tool_generate_image_ref_after_download","ai_tool_generate_use_as_reference"]),N=v.z.enum(["workflow_create_post","workflow_create_poster","workflow_mix_images","workflow_apply_promo","workflow_create_flyer","workflow_create_logo_variations","workflow_localize","workflow_create_logo","workflow_apply_colors","workflow_replace_text","workflow_remove_text","workflow_replace_element","workflow_add_element"]);v.z.object({resource:v.z.coerce.number(),file:j.ru.optional(),option:v.z.coerce.number().optional(),size:v.z.coerce.number().optional(),action:k.optional(),modifier:N.optional(),walletId:v.z.string().nullable().optional(),locale:v.z.string(),searchExpression:v.z.string().optional()}),v.z.object({data:v.z.object({filename:v.z.string(),url:v.z.string(),prompt:v.z.string().optional(),signed_url:v.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...r}=e;return{...r,signedUrl:t}});let C=v.z.array(v.z.string()),T=new Date(new Date().getTime()+48e4),R=b.Z.withConverter({write:e=>e}),I=e=>{try{let t=R.get(e);if(!t)return[];return C.parse(JSON.parse(t))}catch(e){return[]}},z=()=>{let e=(0,n.I)(),t=(0,x.b)();return(0,c.useCallback)(r=>{if(!e)return;let o="".concat("ck_items_").concat(e),a=I(o),n="".concat(r);if(!a.includes(n)){let e=JSON.stringify([...a,n]);R.set(o,e,{path:"/",domain:t,expires:T})}},[e,t])},D=e=>{let{resource:t,file:r,action:h="download",modifier:x,location:b="resource_detail",option:v,size:y,showAttributionModal:j=!0,handleError:k,checkoutQueryParams:N,skipDownloadTracker:C=!1,searchExpression:T}=e,{id:R,name:I,author:D,premium:E,regularType:A,isAIGenerated:O,url:P,type:U}=t,[S,L]=(0,c.useState)(!1),{isUserWinback:G,showWinbackModal:H}=(0,l.l)(),{showAttribution:M}=(0,p.tc)(),W=z(),$=(0,g.b)({resource:t,location:b}),J=(0,d.mS)(),{shouldTrackingLog:K}=f(),{showDeviceBlockedModal:Z,isDeviceBlocked:q}=(0,a.qx)(),F=(0,o.Lh)(),B=(0,n.I)(),V=(0,i.ZK)(),Q=(0,u.TH)({file_extension:_(A,r),file_name:I,file_id:R,license:E?"premium":"free",resolution:y?m.w8[y]:"original",style:"na",author_name:D.name,category:O?"ai_image":A,action:"prompt"===h?"view_prompt":h,location:b,url_link:P}),Y=(0,c.useCallback)(e=>{if(k){k(e);return}"prompt"!==h&&$(e,N)},[k,h,$,N]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if(q){Z();return}if(G){H();return}L(!0),F||s.uT("WARNING: User ".concat(B," has no wallet_id"),"warning"),K&&!C&&J({resourceId:R,isResourcePremium:E,resourceType:U,downloadType:h,fileType:U,variant:b});let o=await (0,w.H)({resource:R,size:y?2e3:void 0,action:h,modifier:x,file:r,option:v,walletId:F,locale:V,searchExpression:T});if(o.success)return j&&M&&M(),L(!1),W(R),Q({externalUrl:null!=e?e:P,setting:t}),o.data;Y(o),L(!1)},[q,G,F,K,C,R,y,h,x,r,v,V,T,Y,Z,H,B,J,E,U,b,j,M,W,Q,P]),isDownloading:S}}},32509:function(e,t,r){r.d(t,{b:function(){return i}});var o=r(19170),a=r(10893),n=r(52983),l=r(65724);let i=e=>{var t;let{location:r,resource:i}=null!=e?e:{},{t:s}=(0,a.$G)("error"),{openToast:c}=(0,o.x_)(),u=(0,l.W)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0,"",r);return(0,n.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&i){u({resourceData:{name:i.name,mediaUrl:i.preview.url,mediaWidth:i.preview.width,mediaHeight:i.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:s("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:s("unknown")})},[u,c,i,s])}}}]);